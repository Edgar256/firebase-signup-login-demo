<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap CSS via CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <title>Home Page</title>
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">
              <h3 class="text-center">User Details</h3>
            </div>
            <div class="card-body" id="userData">
              <ul class="list-group">
                <li class="list-group-item"><strong>Name:</strong> John Doe</li>
                <li class="list-group-item">
                  <strong>Email:</strong> john@example.com
                </li>
                <li class="list-group-item">
                  <strong>Phone:</strong> +1234567890
                </li>
                <li class="list-group-item"><strong>Gender:</strong> Male</li>
                <li class="list-group-item">
                  <strong>Address:</strong> 123 Main St, City
                </li>
                <li class="list-group-item">
                  <strong>Next of Kin:</strong> Jane Doe
                </li>
                <li class="list-group-item">
                  <strong>Date of Birth:</strong> 1990-01-01
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JavaScript via CDN -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script>
      console.log(123);
      // Fetch user data from the / endpoint
      fetch("/")
        .then((response) => response.json())
        .then((userData) => {
          console.log({ userData });

          // Function to format the address
          function formatAddress(address) {
            // Split the address by line breaks and join with a comma
            return address.split("\r\n").join(", ");
          }

          // Generate HTML string
          const htmlString = `
  <ul class="list-group">
    <li class="list-group-item"><strong>Name:</strong> ${userData.name}</li>
    <li class="list-group-item"><strong>Email:</strong> ${userData.email}</li>
    <li class="list-group-item"><strong>Phone:</strong> ${userData.phone}</li>
    <li class="list-group-item"><strong>Gender:</strong> ${userData.gender}</li>
    <li class="list-group-item"><strong>Address:</strong> ${formatAddress(
      userData.address
    )}</li>
    <li class="list-group-item"><strong>Next of Kin:</strong> ${
      userData.nextOfKin
    }</li>
    <li class="list-group-item"><strong>Date of Birth:</strong> ${
      userData.dateOfBirth
    }</li>
  </ul>
`;

// Set the HTML content to the generated string
document.getElementById('userData').innerHTML = htmlString;
          // Update the content of the userData div with user information
          // document.getElementById('userData').innerHTML = `
          //   <h2>Welcome, ${userData.name}!</h2>
          //   <p>Email: ${userData.email}</p>
          //   <!-- Add more fields as needed -->
          // `;
        })
        .catch((error) => {
          console.error("Error fetching user data:", error);
          // Handle error, e.g., display an error message on the page
        });
    </script>
  </body>
</html>
